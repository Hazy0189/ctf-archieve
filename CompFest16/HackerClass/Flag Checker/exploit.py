from z3 import *

# Create a solver instance
solver = Solver()

# Define the flag as a list of 40 integer variables (each representing a character)
flag = [Int(f'f{i}') for i in range(40)]

# Add constraints that each character in the flag must be an ASCII value between 32 and 126 (printable characters)
for i in range(40):
    solver.add(flag[i] >= 32, flag[i] <= 126)

# Add the given constraints from the Java code
solver.add(22200 * flag[0] + 15995 * flag[1] + 3774 * flag[2] + 37591 * flag[3] + 41041 * flag[4] + 14515 * flag[5] + 
           20272 * flag[6] + 18048 * flag[7] + 3558 * flag[8] + 20153 * flag[9] + 26338 * flag[10] + 17313 * flag[11] +
           23534 * flag[12] + 8407 * flag[13] + 13272 * flag[14] + 22544 * flag[15] + 4893 * flag[16] + 14236 * flag[17] +
           19413 * flag[18] + 22209 * flag[19] + 46441 * flag[20] + 36201 * flag[21] + 1062 * flag[22] + 29034 * flag[23] +
           11325 * flag[24] + 680 * flag[25] + 6859 * flag[26] + 34036 * flag[27] + 9970 * flag[28] + 12183 * flag[29] +
           7170 * flag[30] + 36992 * flag[31] + 27965 * flag[32] + 20951 * flag[33] + 35984 * flag[34] + 11912 * flag[35] +
           45854 * flag[36] + 2761 * flag[37] + 50078 * flag[38] + 23743 * flag[39] == 71501491)

solver.add(2519 * flag[1] + 40678 * flag[2] + 2634 * flag[3] + 37878 * flag[4] + 37203 * flag[5] + 34032 * flag[6] + 
           39225 * flag[7] + 22371 * flag[8] + 14110 * flag[9] + 49996 * flag[10] + 16462 * flag[11] + 16453 * flag[12] + 
           47755 * flag[13] + 7577 * flag[14] + 38065 * flag[15] + 52966 * flag[16] + 47305 * flag[17] + 23732 * flag[18] +
           17153 * flag[19] + 52125 * flag[20] + 10727 * flag[21] + 26887 * flag[22] + 44587 * flag[23] + 43220 * flag[24] +
           4387 * flag[25] + 34631 * flag[26] + 33183 * flag[27] + 7143 * flag[28] + 8531 * flag[29] + 29898 * flag[30] +
           41415 * flag[31] + 35597 * flag[32] + 49557 * flag[33] + 11164 * flag[34] + 42390 * flag[35] + 51196 * flag[36] +
           6114 * flag[37] + 12690 * flag[38] + 41976 * flag[39] == 99309784)

solver.add(12504 * flag[2] + 39165 * flag[3] + 17348 * flag[4] + 50022 * flag[5] + 28000 * flag[6] + 27014 * flag[7] + 
           15639 * flag[8] + 4061 * flag[9] + 27692 * flag[10] + 13193 * flag[11] + 41142 * flag[12] + 41040 * flag[13] + 
           32084 * flag[14] + 27577 * flag[15] + 4836 * flag[16] + 34993 * flag[17] + 34100 * flag[18] + 52264 * flag[19] +
           20109 * flag[20] + 4551 * flag[21] + 19609 * flag[22] + 33556 * flag[23] + 30714 * flag[24] + 28091 * flag[25] +
           18216 * flag[26] + 18140 * flag[27] + 280 * flag[28] + 33002 * flag[29] + 18676 * flag[30] + 38193 * flag[31] +
           12146 * flag[32] + 8738 * flag[33] + 9442 * flag[34] + 5307 * flag[35] + 16889 * flag[36] + 48342 * flag[37] +
           3239 * flag[38] + 45992 * flag[39] == 80476090)

solver.add(11538 * flag[3] + 27038 * flag[4] + 49205 * flag[5] + 2160 * flag[6] + 43484 * flag[7] + 19407 * flag[8] + 
           32096 * flag[9] + 4349 * flag[10] + 47466 * flag[11] + 10907 * flag[12] + 32139 * flag[13] + 48376 * flag[14] + 
           7090 * flag[15] + 21751 * flag[16] + 19311 * flag[17] + 35417 * flag[18] + 36879 * flag[19] + 17793 * flag[20] +
           11854 * flag[21] + 37774 * flag[22] + 35177 * flag[23] + 20000 * flag[24] + 10968 * flag[25] + 51926 * flag[26] +
           11506 * flag[27] + 41582 * flag[28] + 14402 * flag[29] + 24311 * flag[30] + 21983 * flag[31] + 20881 * flag[32] +
           42676 * flag[33] + 17872 * flag[34] + 217 * flag[35] + 23378 * flag[36] + 26508 * flag[37] + 15770 * flag[38] +
           41835 * flag[39] == 81242468)

solver.add(29579 * flag[4] + 19717 * flag[5] + 2792 * flag[6] + 29131 * flag[7] + 50730 * flag[8] + 49815 * flag[9] + 
           1332 * flag[10] + 28545 * flag[11] + 756 * flag[12] + 39370 * flag[13] + 28389 * flag[14] + 34081 * flag[15] + 
           38703 * flag[16] + 3864 * flag[17] + 13196 * flag[18] + 51380 * flag[19] + 13797 * flag[20] + 32777 * flag[21] +
           2539 * flag[22] + 28259 * flag[23] + 39596 * flag[24] + 34753 * flag[25] + 52535 * flag[26] + 52094 * flag[27] +
           41988 * flag[28] + 51138 * flag[29] + 28009 * flag[30] + 47682 * flag[31] + 1951 * flag[32] + 21811 * flag[33] +
           4459 * flag[34] + 50119 * flag[35] + 3899 * flag[36] + 3676 * flag[37] + 29753 * flag[38] + 3923 * flag[39] == 87762821)

solver.add(15412 * flag[5] + 8367 * flag[6] + 2918 * flag[7] + 32638 * flag[8] + 26152 * flag[9] + 15593 * flag[10] + 
           51986 * flag[11] + 5747 * flag[12] + 52792 * flag[13] + 22915 * flag[14] + 43547 * flag[15] + 49186 * flag[16] +
           5913 * flag[17] + 16454 * flag[18] + 49860 * flag[19] + 16026 * flag[20] + 8426 * flag[21] + 2704 * flag[22] +
           18528 * flag[23] + 25145 * flag[24] + 30654 * flag[25] + 37918 * flag[26] + 29364 * flag[27] + 24858 * flag[28] +
           27513 * flag[29] + 5906 * flag[30] + 27245 * flag[31] + 39458 * flag[32] + 46000 * flag[33] + 12950 * flag[34] +
           42502 * flag[35] + 26338 * flag[36] + 50108 * flag[37] + 32681 * flag[38] + 30304 * flag[39] == 80747503)

solver.add(36837 * flag[6] + 21509 * flag[7] + 23029 * flag[8] + 37333 * flag[9] + 29775 * flag[10] + 5231 * flag[11] +
           8665 * flag[12] + 12563 * flag[13] + 41268 * flag[14] + 18864 * flag[15] + 28920 * flag[16] + 3282 * flag[17] +
           24369 * flag[18] + 47236 * flag[19] + 22547 * flag[20] + 51016 * flag[21] + 769 * flag[22] + 14924 * flag[23] +
           23397 * flag[24] + 41179 * flag[25] + 20270 * flag[26] + 52899 * flag[27] + 20120 * flag[28] + 3174 * flag[29] +
           35993 * flag[30] + 10843 * flag[31] + 9463 * flag[32] + 1876 * flag[33] + 37370 * flag[34] + 8657 * flag[35] +
           37679 * flag[36] + 12023 * flag[37] + 15779 * flag[38] + 15178 * flag[39] == 69153214)

solver.add(26894 * flag[7] + 14466 * flag[8] + 244 * flag[9] + 26686 * flag[10] + 45676 * flag[11] + 52361 * flag[12] + 
           38323 * flag[13] + 50270 * flag[14] + 4744 * flag[15] + 2874 * flag[16] + 29243 * flag[17] + 7852 * flag[18] + 
           32894 * flag[19] + 1000 * flag[20] + 1331 * flag[21] + 10345 * flag[22] + 18570 * flag[23] + 30546 * flag[24] +
           11734 * flag[25] + 48184 * flag[26] + 12003 * flag[27] + 41338 * flag[28] + 47093 * flag[29] + 38797 * flag[30] +
           4591 * flag[31] + 7414 * flag[32] + 23231 * flag[33] + 25174 * flag[34] + 42274 * flag[35] + 8332 * flag[36] +
           2663 * flag[37] + 29950 * flag[38] + 25671 * flag[39] == 65769438)

solver.add(30186 * flag[8] + 52574 * flag[9] + 29518 * flag[10] + 8686 * flag[11] + 32176 * flag[12] + 22473 * flag[13] + 
           8773 * flag[14] + 15074 * flag[15] + 25039 * flag[16] + 5249 * flag[17] + 33082 * flag[18] + 8135 * flag[19] + 
           47201 * flag[20] + 38326 * flag[21] + 37752 * flag[22] + 29697 * flag[23] + 6120 * flag[24] + 12589 * flag[25] +
           43052 * flag[26] + 8563 * flag[27] + 26178 * flag[28] + 2730 * flag[29] + 39108 * flag[30] + 19064 * flag[31] +
           46910 * flag[32] + 12849 * flag[33] + 32971 * flag[34] + 52711 * flag[35] + 41968 * flag[36] + 11348 * flag[37] +
           27840 * flag[38] + 20482 * flag[39] == 70208258)

solver.add(25446 * flag[9] + 11750 * flag[10] + 25398 * flag[11] + 49512 * flag[12] + 24784 * flag[13] + 29164 * flag[14] +
           46384 * flag[15] + 32768 * flag[16] + 12740 * flag[17] + 19128 * flag[18] + 22220 * flag[19] + 42844 * flag[20] +
           45822 * flag[21] + 35936 * flag[22] + 31289 * flag[23] + 42777 * flag[24] + 27452 * flag[25] + 30200 * flag[26] +
           2224 * flag[27] + 49841 * flag[28] + 10956 * flag[29] + 13199 * flag[30] + 44704 * flag[31] + 10762 * flag[32] +
           21657 * flag[33] + 26159 * flag[34] + 28112 * flag[35] + 34037 * flag[36] + 48414 * flag[37] + 49626 * flag[38] +
           28599 * flag[39] == 76907030)

solver.add(46957 * flag[10] + 11342 * flag[11] + 8534 * flag[12] + 40936 * flag[13] + 37231 * flag[14] + 29001 * flag[15] +
           46284 * flag[16] + 34527 * flag[17] + 10266 * flag[18] + 32500 * flag[19] + 47418 * flag[20] + 29462 * flag[21] +
           42406 * flag[22] + 27455 * flag[23] + 10082 * flag[24] + 42567 * flag[25] + 29387 * flag[26] + 4733 * flag[27] +
           3632 * flag[28] + 3051 * flag[29] + 36953 * flag[30] + 28323 * flag[31] + 23937 * flag[32] + 49848 * flag[33] +
           45333 * flag[34] + 13910 * flag[35] + 33817 * flag[36] + 15706 * flag[37] + 50213 * flag[38] + 8392 * flag[39] ==
           69058615)

solver.add(7604 * flag[11] + 10110 * flag[12] + 26676 * flag[13] + 25203 * flag[14] + 28499 * flag[15] + 12398 * flag[16] +
           42375 * flag[17] + 5462 * flag[18] + 7218 * flag[19] + 45704 * flag[20] + 13161 * flag[21] + 7552 * flag[22] +
           18566 * flag[23] + 41968 * flag[24] + 35034 * flag[25] + 12156 * flag[26] + 42540 * flag[27] + 6731 * flag[28] +
           35925 * flag[29] + 33629 * flag[30] + 19891 * flag[31] + 45321 * flag[32] + 13234 * flag[33] + 27960 * flag[34] +
           51749 * flag[35] + 11402 * flag[36] + 9482 * flag[37] + 33252 * flag[38] + 27310 * flag[39] == 65059742)

solver.add(51862 * flag[12] + 33723 * flag[13] + 6900 * flag[14] + 9128 * flag[15] + 43619 * flag[16] + 31787 * flag[17] +
           21265 * flag[18] + 21518 * flag[19] + 45003 * flag[20] + 13643 * flag[21] + 45631 * flag[22] + 6851 * flag[23] +
           49662 * flag[24] + 6858 * flag[25] + 34265 * flag[26] + 48224 * flag[27] + 9480 * flag[28] + 51894 * flag[29] +
           32094 * flag[30] + 4136 * flag[31] + 10619 * flag[32] + 12268 * flag[33] + 18657 * flag[34] + 15670 * flag[35] +
           6415 * flag[36] + 36655 * flag[37] + 4493 * flag[38] + 17293 * flag[39] == 60198088)

solver.add(37851 * flag[13] + 7615 * flag[14] + 29369 * flag[15] + 21593 * flag[16] + 39635 * flag[17] + 26749 * flag[18] +
           40257 * flag[19] + 13883 * flag[20] + 4983 * flag[21] + 33163 * flag[22] + 30925 * flag[23] + 17441 * flag[24] +
           44461 * flag[25] + 27031 * flag[26] + 49079 * flag[27] + 27243 * flag[28] + 25513 * flag[29] + 42324 * flag[30] +
           20632 * flag[31] + 44009 * flag[32] + 1227 * flag[33] + 10822 * flag[34] + 13853 * flag[35] + 41929 * flag[36] +
           52365 * flag[37] + 330 * flag[38] + 7217 * flag[39] == 62109682)

solver.add(2145 * flag[14] + 23601 * flag[15] + 51936 * flag[16] + 31450 * flag[17] + 5336 * flag[18] + 19281 * flag[19] +
           50486 * flag[20] + 456 * flag[21] + 40822 * flag[22] + 2199 * flag[23] + 17238 * flag[24] + 51411 * flag[25] +
           10942 * flag[26] + 19149 * flag[27] + 6162 * flag[28] + 12873 * flag[29] + 7842 * flag[30] + 46757 * flag[31] +
           17460 * flag[32] + 25397 * flag[33] + 22880 * flag[34] + 31082 * flag[35] + 37746 * flag[36] + 28036 * flag[37] +
           28106 * flag[38] + 20255 * flag[39] == 49547687)

solver.add(10480 * flag[15] + 29038 * flag[16] + 37254 * flag[17] + 45560 * flag[18] + 24296 * flag[19] + 47053 * flag[20] +
           945 * flag[21] + 34883 * flag[22] + 27600 * flag[23] + 28287 * flag[24] + 35437 * flag[25] + 33919 * flag[26] +
           35859 * flag[27] + 3678 * flag[28] + 7909 * flag[29] + 29530 * flag[30] + 23158 * flag[31] + 24750 * flag[32] +
           22846 * flag[33] + 36457 * flag[34] + 13404 * flag[35] + 30987 * flag[36] + 32459 * flag[37] + 14590 * flag[38] +
           24941 * flag[39] == 56653732)

solver.add(44448 * flag[16] + 33979 * flag[17] + 15795 * flag[18] + 43751 * flag[19] + 37435 * flag[20] + 47741 * flag[21] +
           14520 * flag[22] + 50176 * flag[23] + 47386 * flag[24] + 25930 * flag[25] + 45211 * flag[26] + 10713 * flag[27] +
           46621 * flag[28] + 3423 * flag[29] + 38548 * flag[30] + 1269 * flag[31] + 16894 * flag[32] + 15177 * flag[33] +
           20447 * flag[34] + 27166 * flag[35] + 32701 * flag[36] + 51021 * flag[37] + 31647 * flag[38] + 13210 * flag[39] ==
           61430146)

solver.add(10116 * flag[17] + 40944 * flag[18] + 33029 * flag[19] + 2425 * flag[20] + 6305 * flag[21] + 25605 * flag[22] +
           29139 * flag[23] + 19590 * flag[24] + 32908 * flag[25] + 23233 * flag[26] + 11041 * flag[27] + 33096 * flag[28] +
           36493 * flag[29] + 1392 * flag[30] + 17877 * flag[31] + 44207 * flag[32] + 32185 * flag[33] + 4648 * flag[34] +
           6244 * flag[35] + 17973 * flag[36] + 29039 * flag[37] + 24269 * flag[38] + 33882 * flag[39] == 42365683)

solver.add(21408 * flag[18] + 6486 * flag[19] + 42414 * flag[20] + 21070 * flag[21] + 47875 * flag[22] + 6781 * flag[23] +
           40950 * flag[24] + 46962 * flag[25] + 28041 * flag[26] + 28967 * flag[27] + 27957 * flag[28] + 24886 * flag[29] +
           10276 * flag[30] + 42729 * flag[31] + 36256 * flag[32] + 45304 * flag[33] + 27377 * flag[34] + 4471 * flag[35] +
           12941 * flag[36] + 15579 * flag[37] + 38684 * flag[38] + 3285 * flag[39] == 49341834)

solver.add(5513 * flag[19] + 48732 * flag[20] + 21922 * flag[21] + 3320 * flag[22] + 25155 * flag[23] + 7087 * flag[24] +
           33480 * flag[25] + 20107 * flag[26] + 12259 * flag[27] + 7578 * flag[28] + 5949 * flag[29] + 2058 * flag[30] +
           28568 * flag[31] + 10210 * flag[32] + 46165 * flag[33] + 46124 * flag[34] + 7808 * flag[35] + 52940 * flag[36] +
           30736 * flag[37] + 23951 * flag[38] + 52822 * flag[39] == 38630960)

solver.add(50139 * flag[20] + 44864 * flag[21] + 36755 * flag[22] + 37320 * flag[23] + 47121 * flag[24] + 28406 * flag[25] +
           47165 * flag[26] + 7321 * flag[27] + 44479 * flag[28] + 41794 * flag[29] + 4461 * flag[30] + 42843 * flag[31] +
           8369 * flag[32] + 48339 * flag[33] + 16672 * flag[34] + 21941 * flag[35] + 50048 * flag[36] + 28078 * flag[37] +
           15718 * flag[38] + 9247 * flag[39] == 51853879)

solver.add(36920 * flag[21] + 13812 * flag[22] + 43415 * flag[23] + 39970 * flag[24] + 26178 * flag[25] + 47699 * flag[26] +
           46061 * flag[27] + 45283 * flag[28] + 9500 * flag[29] + 46576 * flag[30] + 6477 * flag[31] + 49537 * flag[32] +
           35528 * flag[33] + 38630 * flag[34] + 49077 * flag[35] + 23294 * flag[36] + 26174 * flag[37] + 27267 * flag[38] +
           19812 * flag[39] == 54588207)

solver.add(37832 * flag[22] + 30587 * flag[23] + 43018 * flag[24] + 13421 * flag[25] + 27934 * flag[26] + 12342 * flag[27] +
           34132 * flag[28] + 36593 * flag[29] + 12006 * flag[30] + 31156 * flag[31] + 8769 * flag[32] + 43315 * flag[33] +
           44102 * flag[34] + 33289 * flag[35] + 32282 * flag[36] + 41188 * flag[37] + 16869 * flag[38] + 46457 * flag[39] ==
           41799425)

solver.add(1246 * flag[23] + 29718 * flag[24] + 22082 * flag[25] + 27619 * flag[26] + 50996 * flag[27] + 52231 * flag[28] +
           19018 * flag[29] + 4559 * flag[30] + 50393 * flag[31] + 26059 * flag[32] + 29400 * flag[33] + 12892 * flag[34] +
           20202 * flag[35] + 20702 * flag[36] + 40987 * flag[37] + 40725 * flag[38] + 13872 * flag[39] == 38582518)

solver.add(39144 * flag[24] + 38657 * flag[25] + 7248 * flag[26] + 44227 * flag[27] + 48016 * flag[28] + 37462 * flag[29] +
           26098 * flag[30] + 49170 * flag[31] + 45509 * flag[32] + 2131 * flag[33] + 48555 * flag[34] + 10974 * flag[35] +
           7955 * flag[36] + 52828 * flag[37] + 17842 * flag[38] + 14507 * flag[39] == 41695164)

solver.add(16937 * flag[25] + 8243 * flag[26] + 20552 * flag[27] + 27956 * flag[28] + 10527 * flag[29] + 37030 * flag[30] +
           40832 * flag[31] + 21015 * flag[32] + 42255 * flag[33] + 49759 * flag[34] + 25161 * flag[35] + 12321 * flag[36] +
           25322 * flag[37] + 41205 * flag[38] + 51643 * flag[39] == 32858969)

solver.add(6926 * flag[26] + 21720 * flag[27] + 7471 * flag[28] + 29479 * flag[29] + 37838 * flag[30] + 4810 * flag[31] +
           29424 * flag[32] + 16171 * flag[33] + 23747 * flag[34] + 31798 * flag[35] + 39664 * flag[36] + 35472 * flag[37] +
           35661 * flag[38] + 23861 * flag[39] == 29241675)

solver.add(51140 * flag[27] + 51081 * flag[28] + 528 * flag[29] + 29612 * flag[30] + 45986 * flag[31] + 8406 * flag[32] +
           37794 * flag[33] + 3180 * flag[34] + 49127 * flag[35] + 13173 * flag[36] + 12539 * flag[37] + 29794 * flag[38] +
           51552 * flag[39] == 29534126)

solver.add(37489 * flag[28] + 40823 * flag[29] + 44116 * flag[30] + 7630 * flag[31] + 50475 * flag[32] + 22196 * flag[33] +
           5883 * flag[34] + 44062 * flag[35] + 25458 * flag[36] + 49575 * flag[37] + 24359 * flag[38] + 51939 * flag[39] ==
           33092466)

solver.add(33836 * flag[29] + 33587 * flag[30] + 50181 * flag[31] + 44661 * flag[32] + 24375 * flag[33] + 395 * flag[34] +
           41331 * flag[35] + 38713 * flag[36] + 17849 * flag[37] + 26979 * flag[38] + 20564 * flag[39] == 26761866)

solver.add(7642 * flag[30] + 18577 * flag[31] + 49855 * flag[32] + 13072 * flag[33] + 30513 * flag[34] + 48984 * flag[35] +
           48078 * flag[36] + 21001 * flag[37] + 36365 * flag[38] + 29228 * flag[39] == 23909239)

solver.add(4477 * flag[31] + 30226 * flag[32] + 45539 * flag[33] + 29796 * flag[34] + 30968 * flag[35] + 18353 * flag[36] +
           23724 * flag[37] + 44759 * flag[38] + 891 * flag[39] == 18416992)

solver.add(38940 * flag[32] + 24058 * flag[33] + 31540 * flag[34] + 1162 * flag[35] + 38964 * flag[36] + 4872 * flag[37] +
           15287 * flag[38] + 44126 * flag[39] == 13607624)

solver.add(3764 * flag[33] + 24620 * flag[34] + 20299 * flag[35] + 43589 * flag[36] + 6486 * flag[37] + 52544 * flag[38] +
           34013 * flag[39] == 13793910)

solver.add(40887 * flag[34] + 38728 * flag[35] + 12557 * flag[36] + 43355 * flag[37] + 30244 * flag[38] + 25711 * flag[39] ==
           15726976)

solver.add(49093 * flag[35] + 9334 * flag[36] + 32115 * flag[37] + 14976 * flag[38] + 13541 * flag[39] == 10944962)

solver.add(26165 * flag[36] + 9948 * flag[37] + 13084 * flag[38] + 12357 * flag[39] == 4427998)

solver.add(41991 * flag[37] + 27148 * flag[38] + 28723 * flag[39] == 8606370)

solver.add(49990 * flag[38] + 29254 * flag[39] == 6637224)

solver.add(40495 * flag[39] == 2267720)

# Check if the constraints are solvable
if solver.check() == sat:
    model = solver.model()
    flag_str = ''.join([chr(model[flag[i]].as_long()) for i in range(40)])
    print(f"Correct! Flag: COMPFEST16{{{flag_str}}}")
else:
    print("No solution found.")
